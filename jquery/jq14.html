<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>11/02 동적생성 : 첨부파일 클릭하면 늘어나게 만들기!</title>
<script src="jquery-3.5.1.min.js"></script>
</head>
<body>
<pre>
a.append(B) : A에 B를 추가하다
b.appendTo(A) : B를 A에 추가하다
b.remove() : b를 제거
</pre>
<div id="first">
<p></p>
</div>
<hr>
<h1>구구단</h1>
<div id="second"></div>
<hr>
<h1>첨부파일</h1>
<table border="1">
    <tr>
        <td>첨부파일</td>
        <td>
            <input type="button" id="add" value="추가">
            <input type="button" id="del" value="삭제">
        </td>
    </tr>
    <tr>
        <td>첨부파일1</td>
        <td>
            <input type="file" id="file1" name="file1">
        </td>
    </tr>
</table>
<script>
p=$('<p>동적생성예제1</p>').css('color','red')
p2=$('<p>').html('동적생성예제2').addClass('one').attr('id','first').css('color','blue')
$('#first').append(p)
$('#first').append(p2)

for(i=1;i<10;i++){
    $('#second').append($('<p>').html('3*'+i+'='+3*i))
}

index=1;
$('#add').click(function(){
    //alert(index)
    index++;
    if(index>5){
        alert('첨부파일은 다섯개까지입니다.')
        return;
    }
    tr=$('<tr>')
    td1=$('<td>').html('첨부파일'+index)
    td2=$('<td>')
    input=$('<input>').attr('type','file').attr('id','file'+index).attr('name','file'+index)
    td2.append(input)
    tr.append(td1).append(td2)
    $('table').append(tr)
})
$('#del').click(function(){
    if(index==1){
        alert('첨부파일 1개는 필수입니다.')
        return;
    }
    table=$(this).parents("table")
    tr=table.find("tr")
    alert(tr.length)
    tr.last().remove()
    index--;
})
</script>
</body>
</html>